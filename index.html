
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>GeoAR.js demo</title>
    <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js"></script>
    <script src="./aframe-ar-nft.js"></script>
    <script>
        window.onload = function() {
            AFRAME.registerComponent('videohandler', {
                init: function () {
                    var marker = this.el;
    
                    this.vid = document.querySelector("#vid");
    
                    marker.addEventListener('markerFound', function () {
                        this.vid.play();
                    }.bind(this));
    
            marker.addEventListener('markerLost', function() {
                this.vid.pause();
                this.vid.currentTime = 0;
            }.bind(this));
                }
            });
        };
    </script>
</head>

<body style='margin : 0px; overflow: hidden;'>
    <a-scene
    vr-mode-ui="enabled: false;"
    renderer="logarithmicDepthBuffer: true;"
    embedded
    arjs="trackingMethod: best; sourceType: webcam;debugUIEnabled: false;">
        <a-assets>
            <video src="./mov_bbb.mp4"
                preload="auto" id="vid" response-type="arraybuffer" loop
                crossorigin webkit-playsinline autoplay muted playsinline>
            </video>
        </a-assets>

        <a-nft
            videohandler
            type='nft' url='./dataNFT/trees'
            smooth="true" smoothCount="10" smoothTolerance="0.01" smoothThreshold="5"
        >
            <a-video
                src="#vid"
                rotation='90 0 180'
                width="80"
                height="90"
                position="0 0 -20"
                >
            </a-video>
        </a-nft>
		<a-entity camera position="0 0 5" />
	</a-scene>
</body>
</html>
